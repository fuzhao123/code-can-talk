# 前言

比较糟糕的代码的写法比如:

```java
scene.find(hero, enemy, Kongfu.FIST);//都不知道谁打了谁
```

普通方式书写的代码:

```java
hero.fight(enemey, Kongfu.FIST);//知道代码的意思,但是阅读体验还不够好
```

而自表达的方式书写的代码如

```java
hero.fight(enemy).with("FIST)";//如果不看那些符号,读起来就是一句话
```

-----------


# 第一章 劣质代码带来的劣质体验

在阅读书写不够精良的代码时,读者的行为基本能够反映出代码存在的问题:

- 一直滚动鼠标滚轮 -- 方法过长
- 总是全局搜索 -- 方法过长
- 反复地查看方法实现 -- 命名无法反映其真实含义
- 不停地查看调用方法实现 -- 调用层数太多
- 画流程图 -- 嵌套太深

> 嗯 理解框架的时候, 遇到了某些方法难于理解的时候, 不妨往上面思考, 是本身你的能力不足以理解还是它本身写的就有问题.

## 命名类问题

### 没有考虑调用时的情形

如果要建立一个班级(Grade)类,那么获得学生数量该用下面哪种命名呢?

```java
//不理想的实现
grade.getStudentsCount(); // 这个get有些多余
grade.countStudents(); // 这是一个行为,给人一种"需要时间"计算出来的感受
grade.students.size(); // 这样比较不容易理解, 但是书写最简单,图省事而直接把students属性公开并不是一种好的做法
grade.size(); // 有被误解为"班级的房间大小"的可能

//完美地实现
grade.studentsCount(); // 能够最直接地反映这个要求

```
### 命名用词不当

- research 不能表示重新检索, 应该用searchAgain
- limit 表示极限而不是限制, restriction或者constraint才表示限制
- fasten 表示固定而不是加速, 应该用accelerate

> 英语没学好....

### 否定式命名

有个变量`hardKeyboardHidden`表示没有接入硬键盘.那么,在判定软键盘是否显示时,条件判定式写成这样:

```java
if (hardKeyboardHidden == 0) return false;
```

估计读起来得费上一会儿功夫才能够理解吧
```java
if (hardKeyboard.isConnected())
```
就没有那么多疑惑了
当然,这需要整体框架的调整才能够实现.


